# 标记语言需要的信息

从LDisplay到LustreW，需要把部分控制信息保留下来给标记语言。当然，标记语言反过来也要给翻译过程一些信息（具体的说，就是控件实例的id）。

已经确保的是：
1. 所有元对象指向的组件参数或事件存在。
2. ~~程序没有同时引用同一个组件的同一个名称的参数和事件（lustre编译器保证）但不保证widget绝对没有这种情况（可能没用到而已）~~。(事件和参数有一样的名字是允许的）
3. 主节点有且仅有一个

标记语言处理和翻译，需要的信息包括：

1. 主节点的参数和返回值的类型、名称、时钟；
2. 组件id与子项到参数/返回值的映射

标记语言向主翻译程序传入了id到组件名的映射，根据此映射，翻译过程完成了控制节点的翻译，并合并产生了id和子项到metainfo的映射，metainfo包括了参数名称，类型和时钟。

现在，翻译程序会向标记语言部分传递：
1. widget接口，从组件名到widgetT的映射。
2. 控制节点的输入，也就是相关组件的事件的信息。这是一个从组件id和事件名，到输入参数名、类型、时钟的映射
3. 控制节点的输出，也就是相关组件的显示参数的信息。这是一个从组件id和参数名，到输出变量名、类型、时钟的映射
4. 一个从组件id到组件名的映射

如何翻译将在另一部分描述。