# L6 虚拟存储

- 覆盖：应用程序手动加载
- 交换：操作系统自动执行进程交换
- 虚拟存储：以页为单位自动装入更多更大的程序

## 覆盖技术

将程序划分为若干功能相对独立的模块。必要部分常驻内存，可选部分在需要时加载。

缺点：
- 编程困难
- 执行时间增加

## 交换技术

将暂时不能运行的程序放到外存。基本单位是整个进程。

交换时机：内存空间不够时

## 虚拟存储技术

### 局部性原理

程序执行过程中一个较短时期，访问指令和数据分别局限于一定区域

- 时间局部性
- 空间局部性
- 分支局部性

### 基本原理

装载程序时只加载需要的部分。当执行需要的指令和数据不在内存时，调入内存。将暂时不用的内存换出。

实现方式：
- 虚拟页式存储
- 虚拟页式存储

物理内存/虚拟地址空间均不连续。

### 支持技术

- 硬件页式或段式存储中的地址转换机制
- 操作系统进行换入换出

### 虚拟页式存储

页表项
- 访问位：用于置换算法
- 驻留位：是否在内存中
- 修改位：用于判断换出时是否写回硬盘
- 保护位

